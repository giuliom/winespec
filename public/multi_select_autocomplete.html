<!-- multi-select-autocomplete.html -->
<div class="autocomplete-container" x-data="multiSelectAutocomplete()">
    <!-- Display selected items as tags -->
    <div class="tags" x-show="selected.length">
      <template x-for="(item, index) in selected" :key="index">
        <span class="tag">
          <span x-text="item"></span>
          <button type="button" @click="remove(index)">&times;</button>
        </span>
      </template>
    </div>
  
    <!-- Search input field -->
    <input
      type="text"
      x-model="query"
      @input="search()"
      @keydown.escape="isOpen = false"
      placeholder="Search..."
      class="w-full px-4 py-2 border rounded mt-2"
    />
  
    <!-- Autocomplete suggestions dropdown -->
    <div x-show="isOpen" @click.outside="isOpen = false" class="autocomplete-suggestions">
      <template x-for="(item, index) in filteredItems" :key="index">
        <div
          class="autocomplete-suggestion"
          x-text="item"
          @click="select(item)"
        ></div>
      </template>
    </div>
  </div>